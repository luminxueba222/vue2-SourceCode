{"version":3,"file":"vue.js","sources":["../src/compiler/codegen.js","../src/compiler/html-parser.js","../src/compiler/index.js","../src/observe/dep.js","../src/observe/watcher.js","../src/vdom/patch.js","../src/lifecycle.js","../src/observe/Array.js","../src/observe/index.js","../src/state.js","../src/init.js","../src/vdom/index.js","../src/render.js","../src/index.js"],"sourcesContent":["const defaultTagRE = /\\{\\{((?:.|\\r?\\n)+?)\\}\\}/g; //{{name}}\nexport function generate(el) {\n  let children = genChildren(el);\n  // 遍历树  拼接成字符窜\n  let code = `_c(\"${el.tag}\",${\n    el.attrs.length ? genProps(el.attrs) : \"undefined\"\n  }${children ? `,${children}` : \"\"})`;\n  //_c('div'),{id:\"app\",a:\"1\",b:\"2\",style:{\"margin\":\" 0px\",\" color\":\" #000\"}},_v(\"word\"+_s(arr)+\"hello\"))\n  return code;\n}\n\nfunction genChildren(el) {\n  let children = el.children; //获取儿子\n  if (children) {\n    return children.map((c) => gen(c)).join(\",\");\n  }\n  return false;\n}\n\nfunction gen(el) {\n  if (el.type === 1) {\n    return generate(el);\n  } else {\n    let text = el.text;\n    if (!defaultTagRE.test(text)) {\n      return `_v('${text}')`; //_v()文本\n    } else {\n      let tokens = [];\n      let match;\n      let lastIndex = (defaultTagRE.lastIndex = 0);\n      while ((match = defaultTagRE.exec(text))) {\n        let index = match.index; //开始索引\n        if (index > lastIndex) {\n          tokens.push(JSON.stringify(text.slice(lastIndex, index)));\n        }\n        // tokens.push(JSON.stringify(match[1].trim()));  _s()  原理JSON.stringify()\n        tokens.push(`_s(${match[1].trim()})`);\n        lastIndex = index + match[0].length;\n      }\n      if (lastIndex < text.length) {\n        tokens.push(JSON.stringify(text.slice(lastIndex)));\n      }\n      return `_v(${tokens.join(\"+\")})`;\n    }\n  }\n}\n\nfunction genProps(attrs) {\n  //  [{name: \"id\", value: \"app\"},{name: \"a\", value: \"1\"}]\n  let str = \"\";\n  for (let index = 0; index < attrs.length; index++) {\n    let attr = attrs[index];\n    if (attr.name === \"style\") {\n      let styleObj = {};\n      attr.value.replace(/([^;:]+)\\:([^;:]+)/g, function () {\n        styleObj[arguments[1]] = arguments[2];\n      });\n      attr.value = styleObj;\n    }\n    str += `${attr.name}:${JSON.stringify(attr.value)},`;\n  }\n  return `{${str.slice(0, -1)}}`;\n}\n","//<div id=\"app\">{{name}}</div>\nconst ncname = `[a-zA-Z_][\\\\-\\\\.0-9_a-zA-Z]*`; //标签名\nconst qnameCapture = `((?:${ncname}\\\\:)?${ncname})`; //获取标签名 div  template.match(new RegExp(qnameCapture)\nconst startTagOpen = new RegExp(`^<${qnameCapture}`); // 匹配开始标签\nconst startTagClose = /^\\s*(\\/?)>/;\nconst endTag = new RegExp(`^<\\\\/${qnameCapture}[^>]*>`); //  </\nconst attribute =\n  /^\\s*([^\\s\"'<>\\/=]+)(?:\\s*(=)\\s*(?:\"([^\"]*)\"+|'([^']*)'+|([^\\s\"'=<>`]+)))?/; // 属性 id=\"app\"\nconst defaultTagRE = /\\{\\{((?:.|\\r?\\n)+?)\\}\\}/g; //{{name}}\n// html字符串  解析成dom树\n// vue 是用的正则匹配 (应该逐词解析)\nlet root = null; //把解析后的结果组装成树结构\nlet stack = []; //利用栈结构组装树结构\n\n// 逐词解析   把字符串解析出来\nexport function parseHTML(html) {\n  let index = 0;\n  function start(tagName, attributes) {\n    let parent = stack[stack.length - 1];\n    let element = createASTElement(tagName, attributes);\n    // console.log(\"element\", element);\n    if (!root) {\n      root = element;\n    }\n    element.parent = parent;\n    if (parent) {\n      parent.children.push(element);\n    }\n    stack.push(element);\n    // console.log(\"tagName, attributes\", tagName, attributes);\n  }\n  function end(tagName) {\n    // console.log(\"end  tagName\", tagName);\n    let last = stack.pop();\n    if (last.tag !== tagName) {\n      throw new Error(\"标签有误！\");\n    }\n  }\n  function chars(text) {\n    text = text.replace(/\\s/g, \"\");\n    let parent = stack[stack.length - 1];\n    if (text) {\n      parent.children.push({\n        type: 3,\n        text,\n      });\n    }\n  }\n\n  while (html) {\n    let textEnd = html.indexOf(\"<\");\n    if (textEnd === 0) {\n      const startTagMatch = parseStartTag();\n      if (startTagMatch) {\n        start(startTagMatch.tagName, startTagMatch.attrs);\n        continue;\n      }\n      const endTagMatch = html.match(endTag);\n      if (endTagMatch) {\n        end(endTagMatch[1]);\n        advance(endTagMatch[0].length);\n      }\n      // return;\n    }\n    // 处理文本\n    let text;\n    //{{name}}</div>\n    if (textEnd >= 0) {\n      text = html.substring(0, textEnd);\n    }\n    if (text) {\n      chars(text);\n      advance(text.length);\n    }\n  }\n  function parseStartTag() {\n    const start = html.match(startTagOpen);\n    // console.log(start, \"html\");    (2) [\"<div\", \"div\", index: 0, input: \"<div id=\\\"app\\\">{{name}}</div>\", groups: undefined]0: \"<div\"1: \"div\"groups: undefinedindex: 0input: \"<div id=\\\"app\\\">{{name}}</div>\"length: 2__proto__: Array(0) \"html\"\n    if (start) {\n      const match = {\n        tagName: start[1],//标签名\n        attrs: [],\n        start: index,\n      };\n      advance(start[0].length);\n      let end, attr;\n      while (\n        !(end = html.match(startTagClose)) &&\n        (attr = html.match(attribute))\n      ) {\n        attr.start = index;\n        // console.log(attr, \"attr\");  [\" id=\\\"app\\\"\", \"id\", \"=\", \"app\", undefined, undefined, index: 0, input: \" id=\\\"app\\\">{{name}}</div>\", groups: undefined, start: 4]0: \" id=\\\"app\\\"\"1: \"id\"2: \"=\"3: \"app\"4: undefined5: undefinedend: 13groups: undefinedindex: 0input: \" id=\\\"app\\\">{{name}}</div>\"start: 4length: 6__proto__: Array(0) \"attr\"\n        advance(attr[0].length);\n        attr.end = index;\n        match.attrs.push({\n          name: attr[1],\n          value: attr[3] || attr[4] || attr[5] || \"\",\n        });\n      }\n      // >{{name}}</div>   出掉结尾标签  {{name}}</div>\n      if (end) {\n        advance(end[0].length);\n      }\n      // console.log(match, \"match\");\n      // console.log(html, \"html\");     >{{name}}</div> html\n      return match;\n    }\n  }\n  function advance(n) {\n    index += n;\n    html = html.substring(n);\n  }\n  return root;\n}\nexport function createASTElement(tagName, attrs) {\n  return {\n    type: 1,\n    tag: tagName,\n    attrs,\n    parent: null,\n    children: [],\n  };\n}\n","import { generate } from \"./codegen\";\nimport { parseHTML } from \"./html-parser\";\n\nexport function compileToFunctions(template) {\n  //  将html词法解析(开始标签  属性  文本)  => ast语法树 用来描述HTML语法的 (利用 stack=[])=>codegen  (_c('div'),{id:\"app\",a:\"1\",b:\"2\",style:{\"margin\":\" 0px\",\" color\":\" #000\"}})=>让字符串执行(字符串转换为代码)\n  // =>render 函数 (with+new Function)=>虚拟Dom(增加额外的属性)=>生成真实的Dom\n  // 字符串转换为代码  eval  消耗性能  会有作用域的问题\n\n  let root = parseHTML(template);\n  // {type: 1, tag: \"div\", attrs: Array(4), parent: undefined, children: Array(1)}  AST语法树\n  let code = generate(root);\n  // _c('div'),{id:\"app\",a:\"1\",b:\"2\",style:{\"margin\":\" 0px\",\" color\":\" #000\"}},_c('ul'),undefined,_c('li'),undefined,_v('li111')),_c('li'),undefined,_v('li2222'))),_v(\"word\"+_s(arr)+\"hello\"))\n  let render = new Function(`with(this){return ${code}}`);\n  // function anonymous(\n  //   ) {\n  //   with(this){return _c(\"div\",{id:\"app\",a:\"1\",b:\"2\",style:{\"margin\":\" 0px\",\" color\":\" #000\"}},_v(\"word\"+_s(arr)+\"hello\"))}\n  //   }\n  return render;\n}\n\n// with\n// let vm = {arr:[1]}\n// with (vm){console.log(arr)}\n","let id = 0;\nclass Dep {\n  //每个属性都分配一个dep dep可以存放watcher   watcher中还要存放dep\n  constructor() {\n    this.id = id++;\n    this.subs = []; //用来存放watcher\n  }\n  depend() {\n    //Dep.target dep里要存放这个watcher watcher要存放dep  多对多的关系\n    if (Dep.target) {\n      Dep.target.addDep(this);\n    }\n  }\n  addSub(watcher) {\n    this.subs.push(watcher);\n  }\n  notify() {\n    this.subs.forEach((watcher) => watcher.update());\n  }\n}\nDep.target = null;\nexport function pushTarget(watcher) {\n  Dep.target = watcher;\n}\nexport function popTarget() {\n  Dep.target = null;\n}\nexport default Dep;\n","import { popTarget, pushTarget } from \"./dep\";\n\nlet id = 0;\nclass Watcher {\n  constructor(vm, exprOrFn, cd, options) {\n    this.vm = vm;\n    this.exprOrFn = exprOrFn;\n    this.cd = cd;\n    this.options = options;\n    //默认应该执行exprOrFn    exprOrFn  调用render 生成虚拟dom\n    this.getter = exprOrFn;\n    this.deps = [];\n    this.depsId = new Set();\n    this.id = id++;\n    this.get();\n  }\n  get() {\n    //稍后用户更新时可以重新调用getter方法\n    //defineProperty.get  执行\n    pushTarget(this);\n    this.getter();\n    popTarget();\n  }\n  addDep(dep) {\n    let id = dep.id;\n    if (!this.depsId.has(id)) {\n      this.depsId.add(id);\n      this.deps.push(dep);\n      dep.addSub(this);\n    }\n  }\n  update() {\n    this.get();\n  }\n}\n\nexport default Watcher;\n","\n\nexport function patch(oldVnode, vnode) {\n  if (oldVnode.nodeType == 1) {\n    //元素\n    //用vnode  来生成真实dom 替换原来的dom元素  insertBefore\n    const parentEle = oldVnode.parentNode;\n    let elm = createElm(vnode); //根据虚拟节点创建元素\n\n    parentEle.insertBefore(elm, oldVnode.nextSibling);\n    parentEle.removeChild(oldVnode);\n    return elm;\n  }\n}\nfunction createElm(vnode) {\n  let { tag, data, children, text, vm } = vnode;\n  if (typeof tag === \"string\") {\n    //元素\n    vnode.el = document.createElement(tag); //虚拟节点会有一个el属性  对应真实的节点\n    children.forEach((child) => {\n      vnode.el.appendChild(createElm(child));\n    });\n  } else {\n    //文本\n    vnode.el = document.createTextNode(text);\n  }\n  return vnode.el;\n}\n","import Watcher from \"./observe/watcher\";\nimport { patch } from \"./vdom/patch\";\n// 后续没过组件渲染的时候都要有一个watcher\nexport function mountComponent(vm, el) {\n  // 更新函数  数据变化后 会再次调用此函数\n  let updateComponent = () => {\n    // 调用render 生成虚拟dom\n    vm._update(vm._render());\n  };\n  //观察者模式   属性是 被观察者   刷新页面  是观察者\n  // updateComponent();\n  new Watcher(\n    vm,\n    updateComponent,\n    () => {\n      console.log(\"更新视图了\");\n    },\n    true\n  ); //它是一个渲染watcher  后续还有其它的watcher\n}\nexport function lifecycleMixin(Vue) {\n  Vue.prototype._update = function (vnode) {\n    const vm = this;\n    // 有初始化 和更新\n    vm.$el = patch(vm.$el, vnode);\n  };\n}\n","const oldArrayProto = Array.prototype;\nexport const arrayMethods = Object.create(oldArrayProto);\nconst methods = [\n  \"push\",\n  \"pop\",\n  \"shift\",\n  \"unshift\",\n  \"splice\",\n  \"sort\",\n  \"reverse\",\n];\nmethods.forEach((method) => {\n  arrayMethods[method] = function (...args) {\n    console.log(\"数组发生变化了\");\n    const ob = this.__ob__;\n    const result = oldArrayProto[method].call(this, ...args);\n    let inserted;\n    switch (method) {\n      case \"push\":\n      case \"unshift\":\n        inserted = args;\n        break;\n      case \"splice\":\n        inserted = args.slice(2);\n        break;\n    }\n    console.log(inserted, \"inserted\");\n    if (inserted) ob.observeArray(inserted);\n    return result;\n  };\n});\n","import { arrayMethods } from \"./Array\";\nimport Dep from \"./dep\";\n\nclass Observer {\n  constructor(data) {\n    //对对象所有的属性进行劫持\n    data.__ob__ = this;\n    // 数组劫持\n    if (Array.isArray(data)) {\n      data.__proto__ = arrayMethods;\n      // 如果数组中的是{}需要监控对象的变化\n      this.observeArray(data);\n    } else {\n      // 对象劫持\n      this.walk(data);\n    }\n  }\n  /**\n   * Observe a obj 对象\n   */\n  walk(data) {\n    const keys = Object.keys(data);\n    for (let i = 0; i < keys.length; i++) {\n      defineReactive(data, keys[i], data[keys[i]]);\n    }\n  }\n  /**\n   * Observe a list Array items 数组\n   */\n  observeArray(data) {\n    data.forEach((item) => {\n      observe(item);\n    });\n  }\n}\nfunction defineReactive(obj, key, value) {\n  // 递归观测对象\n  if (key == \"__ob__\") return;\n  observe(value);\n  let dep = new Dep(); //每个属性都有一个dep属性\n  Object.defineProperty(obj, key, {\n    get() {\n      //取值时我希望watcher和dep的对应起来\n      if (Dep.target) {\n        //此值是在模板中取的\n        dep.depend();\n      }\n      console.log(key, \"key\", dep);\n      return value;\n    },\n    set(newVal) {\n      // 如果赋值是{}继续观测\n      if (newVal !== value) {\n        dep.notify();\n        observe(newVal);\n        value = newVal;\n      }\n    },\n  });\n}\nexport function observe(data) {\n  // 只对对象劫持\n  \n  if (typeof data !== \"object\") return;\n  if (data.__ob__) return;\n  return new Observer(data);\n}\n","import { observe } from \"./observe/index.js\";\n\nexport function initState(vm) {\n  const opts = vm.$options;\n  if (opts.data) {\n    initData(vm);\n  }\n}\nfunction initData(vm) {\n  let data = vm.$options.data;\n  // 函数 取返回值\n  data = vm._data = typeof data === \"function\" ? data.call(vm) : data;\n  // 代理  能直接使用vm.数据\n  const keys = Object.keys(data);\n  let i = keys.length;\n  while (i--) {\n    let key = keys[i];\n    proxy(vm, `_data`, key);\n  }\n  observe(data);\n}\n// 当取vm.数据   就去取vm._data数据\nexport function proxy(vm, sourceKey, key) {\n  Object.defineProperty(vm, key, {\n    get() {\n      return vm[sourceKey][key];\n    },\n    set(val) {\n      vm[sourceKey][key] = val;\n    },\n  });\n}\n","import { compileToFunctions } from \"./compiler/index.js\";\nimport { mountComponent } from \"./lifecycle.js\";\nimport { initState } from \"./state\";\n\nexport function initMixin(Vue) {\n  Vue.prototype._init = function (options) {\n    const vm = this;\n    vm.$options = options;\n    initState(vm);\n    if (options.el) {\n      vm.$mount(options.el);//实现数据的挂载\n    }\n  };\n  Vue.prototype.$mount = function (el) {\n    const vm = this;\n    const options = vm.$options;\n    el = document.querySelector(el);\n    vm.$el = el;\n    // vue 1 直接替换用正则直接替换 template\n    // 把模板转换成渲染函数=>虚拟dom=>diff算法 => 更新虚拟dom=>产生真实节点更新\n    if (!options.render) {//优先 render函数\n      let template = options.template; //其次 template\n      if (!template && el) {\n        template = el.outerHTML;\n      }\n      if(template){\n        let render = compileToFunctions(template);\n        options.render = render;\n      }\n      console.log('templatetemplate',template);\n    }\n    //  options.render  渲染函数   渲染成真实dom 替换页面的内容\n    mountComponent(vm, el); //组件的挂载流程\n  };\n}\n","export function createElement(vm, tag, data = {}, ...children) {\n  return vnode(vm, tag, data, data.key, children, undefined);\n}\nexport function createTxetElement(vm, text) {\n  return vnode(vm, undefined, undefined, undefined, undefined, text);\n}\n\nexport function vnode(vm, tag, data, key, children, text) {\n  //虚拟节点：就是一个对象用来描述dom 结构  可以新增自定义的属性\n  return {\n    vm,\n    tag,\n    data,\n    key,\n    children,\n    text,\n  };\n}\n","import { createElement, createTxetElement } from \"./vdom/index\";\n\nexport function renderMixin(Vue) {\n  Vue.prototype._render = function () {\n    const vm = this;\n    let { render } = vm.$options;\n    let vnode = render.call(vm);\n    return vnode;\n  };\n  Vue.prototype._c = function () {\n    //createElement\n    return createElement(this, ...arguments);\n  };\n  Vue.prototype._v = function (text) {\n    //createTxetElement\n    return createTxetElement(this, ...arguments);\n  };\n  Vue.prototype._s = function (val) {\n    if (typeof val == \"object\") return JSON.stringify(val);\n    return val;\n  };\n}\n","import { initMixin } from \"./init\";\nimport { lifecycleMixin } from \"./lifecycle\";\nimport { renderMixin } from \"./render\";\nfunction Vue(options) {\n  this._init(options);\n}\n\ninitMixin(Vue);\nlifecycleMixin(Vue); // _update\nrenderMixin(Vue); // _render\n\nexport default Vue;\n"],"names":["defaultTagRE","generate","el","children","genChildren","code","tag","attrs","length","genProps","map","c","gen","join","type","text","test","tokens","match","lastIndex","exec","index","push","JSON","stringify","slice","trim","str","attr","name","styleObj","value","replace","arguments","ncname","qnameCapture","startTagOpen","RegExp","startTagClose","endTag","attribute","root","stack","parseHTML","html","start","tagName","attributes","parent","element","createASTElement","end","last","pop","Error","chars","textEnd","indexOf","startTagMatch","parseStartTag","endTagMatch","advance","substring","n","compileToFunctions","template","render","Function","id","Dep","subs","target","addDep","watcher","forEach","update","pushTarget","popTarget","Watcher","vm","exprOrFn","cd","options","getter","deps","depsId","Set","get","dep","has","add","addSub","patch","oldVnode","vnode","nodeType","parentEle","parentNode","elm","createElm","insertBefore","nextSibling","removeChild","data","document","createElement","child","appendChild","createTextNode","mountComponent","updateComponent","_update","_render","console","log","lifecycleMixin","Vue","prototype","$el","oldArrayProto","Array","arrayMethods","Object","create","methods","method","ob","__ob__","args","result","call","inserted","observeArray","Observer","isArray","__proto__","walk","keys","i","defineReactive","item","observe","obj","key","defineProperty","depend","set","newVal","notify","initState","opts","$options","initData","_data","proxy","sourceKey","val","initMixin","_init","$mount","querySelector","outerHTML","undefined","createTxetElement","renderMixin","_c","_v","_s"],"mappings":";;;;;;EAAA,IAAMA,YAAY,GAAG,0BAA0B,CAAC;EACzC,SAASC,QAAQ,CAACC,EAAE,EAAE;EAC3B,EAAA,IAAIC,QAAQ,GAAGC,WAAW,CAACF,EAAE,CAAC,CAAA;EAC9B;IACA,IAAIG,IAAI,GAAUH,OAAAA,CAAAA,MAAAA,CAAAA,EAAE,CAACI,GAAG,EACtBJ,KAAAA,CAAAA,CAAAA,MAAAA,CAAAA,EAAE,CAACK,KAAK,CAACC,MAAM,GAAGC,QAAQ,CAACP,EAAE,CAACK,KAAK,CAAC,GAAG,WAAW,CACjDJ,CAAAA,MAAAA,CAAAA,QAAQ,GAAOA,GAAAA,CAAAA,MAAAA,CAAAA,QAAQ,CAAK,GAAA,EAAE,EAAG,GAAA,CAAA,CAAA;EACpC;EACA,EAAA,OAAOE,IAAI,CAAA;EACb,CAAA;EAEA,SAASD,WAAW,CAACF,EAAE,EAAE;EACvB,EAAA,IAAIC,QAAQ,GAAGD,EAAE,CAACC,QAAQ,CAAC;EAC3B,EAAA,IAAIA,QAAQ,EAAE;EACZ,IAAA,OAAOA,QAAQ,CAACO,GAAG,CAAC,UAACC,CAAC,EAAA;QAAA,OAAKC,GAAG,CAACD,CAAC,CAAC,CAAA;EAAA,KAAA,CAAC,CAACE,IAAI,CAAC,GAAG,CAAC,CAAA;EAC9C,GAAA;EACA,EAAA,OAAO,KAAK,CAAA;EACd,CAAA;EAEA,SAASD,GAAG,CAACV,EAAE,EAAE;EACf,EAAA,IAAIA,EAAE,CAACY,IAAI,KAAK,CAAC,EAAE;MACjB,OAAOb,QAAQ,CAACC,EAAE,CAAC,CAAA;EACrB,GAAC,MAAM;EACL,IAAA,IAAIa,IAAI,GAAGb,EAAE,CAACa,IAAI,CAAA;EAClB,IAAA,IAAI,CAACf,YAAY,CAACgB,IAAI,CAACD,IAAI,CAAC,EAAE;QAC5B,OAAcA,MAAAA,CAAAA,MAAAA,CAAAA,IAAI,QAAK;EACzB,KAAC,MAAM;QACL,IAAIE,MAAM,GAAG,EAAE,CAAA;EACf,MAAA,IAAIC,KAAK,CAAA;EACT,MAAA,IAAIC,SAAS,GAAInB,YAAY,CAACmB,SAAS,GAAG,CAAE,CAAA;QAC5C,OAAQD,KAAK,GAAGlB,YAAY,CAACoB,IAAI,CAACL,IAAI,CAAC,EAAG;EACxC,QAAA,IAAIM,KAAK,GAAGH,KAAK,CAACG,KAAK,CAAC;UACxB,IAAIA,KAAK,GAAGF,SAAS,EAAE;EACrBF,UAAAA,MAAM,CAACK,IAAI,CAACC,IAAI,CAACC,SAAS,CAACT,IAAI,CAACU,KAAK,CAACN,SAAS,EAAEE,KAAK,CAAC,CAAC,CAAC,CAAA;EAC3D,SAAA;EACA;UACAJ,MAAM,CAACK,IAAI,CAAA,KAAA,CAAA,MAAA,CAAOJ,KAAK,CAAC,CAAC,CAAC,CAACQ,IAAI,EAAE,EAAI,GAAA,CAAA,CAAA,CAAA;UACrCP,SAAS,GAAGE,KAAK,GAAGH,KAAK,CAAC,CAAC,CAAC,CAACV,MAAM,CAAA;EACrC,OAAA;EACA,MAAA,IAAIW,SAAS,GAAGJ,IAAI,CAACP,MAAM,EAAE;EAC3BS,QAAAA,MAAM,CAACK,IAAI,CAACC,IAAI,CAACC,SAAS,CAACT,IAAI,CAACU,KAAK,CAACN,SAAS,CAAC,CAAC,CAAC,CAAA;EACpD,OAAA;EACA,MAAA,OAAA,KAAA,CAAA,MAAA,CAAaF,MAAM,CAACJ,IAAI,CAAC,GAAG,CAAC,EAAA,GAAA,CAAA,CAAA;EAC/B,KAAA;EACF,GAAA;EACF,CAAA;EAEA,SAASJ,QAAQ,CAACF,KAAK,EAAE;EACvB;IACA,IAAIoB,GAAG,GAAG,EAAE,CAAA;IAAC,IACsC,KAAA,GAAA,SAAA,KAAA,GAAA;EACjD,IAAA,IAAIC,IAAI,GAAGrB,KAAK,CAACc,KAAK,CAAC,CAAA;EACvB,IAAA,IAAIO,IAAI,CAACC,IAAI,KAAK,OAAO,EAAE;QACzB,IAAIC,QAAQ,GAAG,EAAE,CAAA;EACjBF,MAAAA,IAAI,CAACG,KAAK,CAACC,OAAO,CAAC,qBAAqB,EAAE,YAAY;UACpDF,QAAQ,CAACG,SAAS,CAAC,CAAC,CAAC,CAAC,GAAGA,SAAS,CAAC,CAAC,CAAC,CAAA;EACvC,OAAC,CAAC,CAAA;QACFL,IAAI,CAACG,KAAK,GAAGD,QAAQ,CAAA;EACvB,KAAA;EACAH,IAAAA,GAAG,IAAOC,EAAAA,CAAAA,MAAAA,CAAAA,IAAI,CAACC,IAAI,EAAIN,GAAAA,CAAAA,CAAAA,MAAAA,CAAAA,IAAI,CAACC,SAAS,CAACI,IAAI,CAACG,KAAK,CAAC,EAAG,GAAA,CAAA,CAAA;KACrD,CAAA;EAVD,EAAA,KAAK,IAAIV,KAAK,GAAG,CAAC,EAAEA,KAAK,GAAGd,KAAK,CAACC,MAAM,EAAEa,KAAK,EAAE,EAAA;EAAA,IAAA,KAAA,EAAA,CAAA;EAAA,GAAA;IAWjD,OAAWM,GAAAA,CAAAA,MAAAA,CAAAA,GAAG,CAACF,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,EAAA,GAAA,CAAA,CAAA;EAC7B;;EC9DA;EACA,IAAMS,MAAM,GAAiC,8BAAA,CAAC;EAC9C,IAAMC,YAAY,GAAUD,MAAAA,CAAAA,MAAAA,CAAAA,MAAM,kBAAQA,MAAM,EAAA,GAAA,CAAG,CAAC;EACpD,IAAME,YAAY,GAAG,IAAIC,MAAM,aAAMF,YAAY,CAAA,CAAG,CAAC;EACrD,IAAMG,aAAa,GAAG,YAAY,CAAA;EAClC,IAAMC,MAAM,GAAG,IAAIF,MAAM,gBAASF,YAAY,EAAA,QAAA,CAAA,CAAS,CAAC;EACxD,IAAMK,SAAS,GACb,2EAA2E,CAAC;EAE9E;EACA;EACA,IAAIC,IAAI,GAAG,IAAI,CAAC;EAChB,IAAIC,KAAK,GAAG,EAAE,CAAC;;EAEf;EACO,SAASC,SAAS,CAACC,IAAI,EAAE;IAC9B,IAAIvB,KAAK,GAAG,CAAC,CAAA;EACb,EAAA,SAASwB,KAAK,CAACC,OAAO,EAAEC,UAAU,EAAE;MAClC,IAAIC,MAAM,GAAGN,KAAK,CAACA,KAAK,CAAClC,MAAM,GAAG,CAAC,CAAC,CAAA;EACpC,IAAA,IAAIyC,OAAO,GAAGC,gBAAgB,CAACJ,OAAO,EAAEC,UAAU,CAAC,CAAA;EACnD;MACA,IAAI,CAACN,IAAI,EAAE;EACTA,MAAAA,IAAI,GAAGQ,OAAO,CAAA;EAChB,KAAA;MACAA,OAAO,CAACD,MAAM,GAAGA,MAAM,CAAA;EACvB,IAAA,IAAIA,MAAM,EAAE;EACVA,MAAAA,MAAM,CAAC7C,QAAQ,CAACmB,IAAI,CAAC2B,OAAO,CAAC,CAAA;EAC/B,KAAA;EACAP,IAAAA,KAAK,CAACpB,IAAI,CAAC2B,OAAO,CAAC,CAAA;EACnB;EACF,GAAA;;IACA,SAASE,GAAG,CAACL,OAAO,EAAE;EACpB;EACA,IAAA,IAAIM,IAAI,GAAGV,KAAK,CAACW,GAAG,EAAE,CAAA;EACtB,IAAA,IAAID,IAAI,CAAC9C,GAAG,KAAKwC,OAAO,EAAE;EACxB,MAAA,MAAM,IAAIQ,KAAK,CAAC,OAAO,CAAC,CAAA;EAC1B,KAAA;EACF,GAAA;IACA,SAASC,KAAK,CAACxC,IAAI,EAAE;MACnBA,IAAI,GAAGA,IAAI,CAACiB,OAAO,CAAC,KAAK,EAAE,EAAE,CAAC,CAAA;MAC9B,IAAIgB,MAAM,GAAGN,KAAK,CAACA,KAAK,CAAClC,MAAM,GAAG,CAAC,CAAC,CAAA;EACpC,IAAA,IAAIO,IAAI,EAAE;EACRiC,MAAAA,MAAM,CAAC7C,QAAQ,CAACmB,IAAI,CAAC;EACnBR,QAAAA,IAAI,EAAE,CAAC;EACPC,QAAAA,IAAI,EAAJA,IAAAA;EACF,OAAC,CAAC,CAAA;EACJ,KAAA;EACF,GAAA;EAEA,EAAA,OAAO6B,IAAI,EAAE;EACX,IAAA,IAAIY,OAAO,GAAGZ,IAAI,CAACa,OAAO,CAAC,GAAG,CAAC,CAAA;MAC/B,IAAID,OAAO,KAAK,CAAC,EAAE;QACjB,IAAME,aAAa,GAAGC,aAAa,EAAE,CAAA;EACrC,MAAA,IAAID,aAAa,EAAE;UACjBb,KAAK,CAACa,aAAa,CAACZ,OAAO,EAAEY,aAAa,CAACnD,KAAK,CAAC,CAAA;EACjD,QAAA,SAAA;EACF,OAAA;EACA,MAAA,IAAMqD,WAAW,GAAGhB,IAAI,CAAC1B,KAAK,CAACqB,MAAM,CAAC,CAAA;EACtC,MAAA,IAAIqB,WAAW,EAAE;EACfT,QAAAA,GAAG,CAACS,WAAW,CAAC,CAAC,CAAC,CAAC,CAAA;EACnBC,QAAAA,OAAO,CAACD,WAAW,CAAC,CAAC,CAAC,CAACpD,MAAM,CAAC,CAAA;EAChC,OAAA;EACA;EACF,KAAA;EACA;EACA,IAAA,IAAIO,IAAI,GAAA,KAAA,CAAA,CAAA;EACR;MACA,IAAIyC,OAAO,IAAI,CAAC,EAAE;QAChBzC,IAAI,GAAG6B,IAAI,CAACkB,SAAS,CAAC,CAAC,EAAEN,OAAO,CAAC,CAAA;EACnC,KAAA;EACA,IAAA,IAAIzC,IAAI,EAAE;QACRwC,KAAK,CAACxC,IAAI,CAAC,CAAA;EACX8C,MAAAA,OAAO,CAAC9C,IAAI,CAACP,MAAM,CAAC,CAAA;EACtB,KAAA;EACF,GAAA;EACA,EAAA,SAASmD,aAAa,GAAG;EACvB,IAAA,IAAMd,KAAK,GAAGD,IAAI,CAAC1B,KAAK,CAACkB,YAAY,CAAC,CAAA;EACtC;EACA,IAAA,IAAIS,KAAK,EAAE;EACT,MAAA,IAAM3B,KAAK,GAAG;EACZ4B,QAAAA,OAAO,EAAED,KAAK,CAAC,CAAC,CAAC;EAAC;EAClBtC,QAAAA,KAAK,EAAE,EAAE;EACTsC,QAAAA,KAAK,EAAExB,KAAAA;SACR,CAAA;EACDwC,MAAAA,OAAO,CAAChB,KAAK,CAAC,CAAC,CAAC,CAACrC,MAAM,CAAC,CAAA;QACxB,IAAI2C,IAAG,EAAEvB,IAAI,CAAA;QACb,OACE,EAAEuB,IAAG,GAAGP,IAAI,CAAC1B,KAAK,CAACoB,aAAa,CAAC,CAAC,KACjCV,IAAI,GAAGgB,IAAI,CAAC1B,KAAK,CAACsB,SAAS,CAAC,CAAC,EAC9B;UACAZ,IAAI,CAACiB,KAAK,GAAGxB,KAAK,CAAA;EAClB;EACAwC,QAAAA,OAAO,CAACjC,IAAI,CAAC,CAAC,CAAC,CAACpB,MAAM,CAAC,CAAA;UACvBoB,IAAI,CAACuB,GAAG,GAAG9B,KAAK,CAAA;EAChBH,QAAAA,KAAK,CAACX,KAAK,CAACe,IAAI,CAAC;EACfO,UAAAA,IAAI,EAAED,IAAI,CAAC,CAAC,CAAC;EACbG,UAAAA,KAAK,EAAEH,IAAI,CAAC,CAAC,CAAC,IAAIA,IAAI,CAAC,CAAC,CAAC,IAAIA,IAAI,CAAC,CAAC,CAAC,IAAI,EAAA;EAC1C,SAAC,CAAC,CAAA;EACJ,OAAA;EACA;EACA,MAAA,IAAIuB,IAAG,EAAE;EACPU,QAAAA,OAAO,CAACV,IAAG,CAAC,CAAC,CAAC,CAAC3C,MAAM,CAAC,CAAA;EACxB,OAAA;EACA;EACA;EACA,MAAA,OAAOU,KAAK,CAAA;EACd,KAAA;EACF,GAAA;IACA,SAAS2C,OAAO,CAACE,CAAC,EAAE;EAClB1C,IAAAA,KAAK,IAAI0C,CAAC,CAAA;EACVnB,IAAAA,IAAI,GAAGA,IAAI,CAACkB,SAAS,CAACC,CAAC,CAAC,CAAA;EAC1B,GAAA;EACA,EAAA,OAAOtB,IAAI,CAAA;EACb,CAAA;EACO,SAASS,gBAAgB,CAACJ,OAAO,EAAEvC,KAAK,EAAE;IAC/C,OAAO;EACLO,IAAAA,IAAI,EAAE,CAAC;EACPR,IAAAA,GAAG,EAAEwC,OAAO;EACZvC,IAAAA,KAAK,EAALA,KAAK;EACLyC,IAAAA,MAAM,EAAE,IAAI;EACZ7C,IAAAA,QAAQ,EAAE,EAAA;KACX,CAAA;EACH;;ECvHO,SAAS6D,kBAAkB,CAACC,QAAQ,EAAE;EAC3C;EACA;EACA;;EAEA,EAAA,IAAIxB,IAAI,GAAGE,SAAS,CAACsB,QAAQ,CAAC,CAAA;EAC9B;EACA,EAAA,IAAI5D,IAAI,GAAGJ,QAAQ,CAACwC,IAAI,CAAC,CAAA;EACzB;EACA,EAAA,IAAIyB,MAAM,GAAG,IAAIC,QAAQ,CAAA,oBAAA,CAAA,MAAA,CAAsB9D,IAAI,EAAI,GAAA,CAAA,CAAA,CAAA;EACvD;EACA;EACA;EACA;EACA,EAAA,OAAO6D,MAAM,CAAA;EACf,CAAA;;EAEA;EACA;EACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;ECtBA,IAAIE,IAAE,GAAG,CAAC,CAAA;EAAC,IACLC,GAAG,gBAAA,YAAA;EACP;IACA,SAAc,GAAA,GAAA;EAAA,IAAA,eAAA,CAAA,IAAA,EAAA,GAAA,CAAA,CAAA;EACZ,IAAA,IAAI,CAACD,EAAE,GAAGA,IAAE,EAAE,CAAA;EACd,IAAA,IAAI,CAACE,IAAI,GAAG,EAAE,CAAC;EACjB,GAAA;EAAC,EAAA,YAAA,CAAA,GAAA,EAAA,CAAA;EAAA,IAAA,GAAA,EAAA,QAAA;EAAA,IAAA,KAAA,EACD,SAAS,MAAA,GAAA;EACP;QACA,IAAID,GAAG,CAACE,MAAM,EAAE;EACdF,QAAAA,GAAG,CAACE,MAAM,CAACC,MAAM,CAAC,IAAI,CAAC,CAAA;EACzB,OAAA;EACF,KAAA;EAAC,GAAA,EAAA;EAAA,IAAA,GAAA,EAAA,QAAA;MAAA,KACD,EAAA,SAAA,MAAA,CAAOC,OAAO,EAAE;EACd,MAAA,IAAI,CAACH,IAAI,CAAChD,IAAI,CAACmD,OAAO,CAAC,CAAA;EACzB,KAAA;EAAC,GAAA,EAAA;EAAA,IAAA,GAAA,EAAA,QAAA;EAAA,IAAA,KAAA,EACD,SAAS,MAAA,GAAA;EACP,MAAA,IAAI,CAACH,IAAI,CAACI,OAAO,CAAC,UAACD,OAAO,EAAA;UAAA,OAAKA,OAAO,CAACE,MAAM,EAAE,CAAA;SAAC,CAAA,CAAA;EAClD,KAAA;EAAC,GAAA,CAAA,CAAA,CAAA;EAAA,EAAA,OAAA,GAAA,CAAA;EAAA,CAAA,EAAA,CAAA;EAEHN,GAAG,CAACE,MAAM,GAAG,IAAI,CAAA;EACV,SAASK,UAAU,CAACH,OAAO,EAAE;IAClCJ,GAAG,CAACE,MAAM,GAAGE,OAAO,CAAA;EACtB,CAAA;EACO,SAASI,SAAS,GAAG;IAC1BR,GAAG,CAACE,MAAM,GAAG,IAAI,CAAA;EACnB;;ECxBA,IAAIH,EAAE,GAAG,CAAC,CAAA;EAAC,IACLU,OAAO,gBAAA,YAAA;EACX,EAAA,SAAA,OAAA,CAAYC,EAAE,EAAEC,QAAQ,EAAEC,EAAE,EAAEC,OAAO,EAAE;EAAA,IAAA,eAAA,CAAA,IAAA,EAAA,OAAA,CAAA,CAAA;MACrC,IAAI,CAACH,EAAE,GAAGA,EAAE,CAAA;MACZ,IAAI,CAACC,QAAQ,GAAGA,QAAQ,CAAA;MACxB,IAAI,CAACC,EAAE,GAAGA,EAAE,CAAA;MACZ,IAAI,CAACC,OAAO,GAAGA,OAAO,CAAA;EACtB;MACA,IAAI,CAACC,MAAM,GAAGH,QAAQ,CAAA;MACtB,IAAI,CAACI,IAAI,GAAG,EAAE,CAAA;EACd,IAAA,IAAI,CAACC,MAAM,GAAG,IAAIC,GAAG,EAAE,CAAA;EACvB,IAAA,IAAI,CAAClB,EAAE,GAAGA,EAAE,EAAE,CAAA;MACd,IAAI,CAACmB,GAAG,EAAE,CAAA;EACZ,GAAA;EAAC,EAAA,YAAA,CAAA,OAAA,EAAA,CAAA;EAAA,IAAA,GAAA,EAAA,KAAA;EAAA,IAAA,KAAA,EACD,SAAM,GAAA,GAAA;EACJ;EACA;QACAX,UAAU,CAAC,IAAI,CAAC,CAAA;QAChB,IAAI,CAACO,MAAM,EAAE,CAAA;EACbN,MAAAA,SAAS,EAAE,CAAA;EACb,KAAA;EAAC,GAAA,EAAA;EAAA,IAAA,GAAA,EAAA,QAAA;MAAA,KACD,EAAA,SAAA,MAAA,CAAOW,GAAG,EAAE;EACV,MAAA,IAAIpB,EAAE,GAAGoB,GAAG,CAACpB,EAAE,CAAA;QACf,IAAI,CAAC,IAAI,CAACiB,MAAM,CAACI,GAAG,CAACrB,EAAE,CAAC,EAAE;EACxB,QAAA,IAAI,CAACiB,MAAM,CAACK,GAAG,CAACtB,EAAE,CAAC,CAAA;EACnB,QAAA,IAAI,CAACgB,IAAI,CAAC9D,IAAI,CAACkE,GAAG,CAAC,CAAA;EACnBA,QAAAA,GAAG,CAACG,MAAM,CAAC,IAAI,CAAC,CAAA;EAClB,OAAA;EACF,KAAA;EAAC,GAAA,EAAA;EAAA,IAAA,GAAA,EAAA,QAAA;EAAA,IAAA,KAAA,EACD,SAAS,MAAA,GAAA;QACP,IAAI,CAACJ,GAAG,EAAE,CAAA;EACZ,KAAA;EAAC,GAAA,CAAA,CAAA,CAAA;EAAA,EAAA,OAAA,OAAA,CAAA;EAAA,CAAA,EAAA;;EC/BI,SAASK,KAAK,CAACC,QAAQ,EAAEC,KAAK,EAAE;EACrC,EAAA,IAAID,QAAQ,CAACE,QAAQ,IAAI,CAAC,EAAE;EAC1B;EACA;EACA,IAAA,IAAMC,SAAS,GAAGH,QAAQ,CAACI,UAAU,CAAA;EACrC,IAAA,IAAIC,GAAG,GAAGC,SAAS,CAACL,KAAK,CAAC,CAAC;;MAE3BE,SAAS,CAACI,YAAY,CAACF,GAAG,EAAEL,QAAQ,CAACQ,WAAW,CAAC,CAAA;EACjDL,IAAAA,SAAS,CAACM,WAAW,CAACT,QAAQ,CAAC,CAAA;EAC/B,IAAA,OAAOK,GAAG,CAAA;EACZ,GAAA;EACF,CAAA;EACA,SAASC,SAAS,CAACL,KAAK,EAAE;EACxB,EAAA,IAAMxF,GAAG,GAA+BwF,KAAK,CAAvCxF,GAAG,CAAA;MAA+BwF,KAAK,CAAlCS,IAAI,CAAA;UAAEpG,QAAQ,GAAe2F,KAAK,CAA5B3F,QAAQ,CAAA;MAAEY,IAAI,GAAS+E,KAAK,CAAlB/E,IAAI,CAAA;MAAS+E,KAAK,CAAZf,GAAE;EACnC,EAAA,IAAI,OAAOzE,GAAG,KAAK,QAAQ,EAAE;EAC3B;MACAwF,KAAK,CAAC5F,EAAE,GAAGsG,QAAQ,CAACC,aAAa,CAACnG,GAAG,CAAC,CAAC;EACvCH,IAAAA,QAAQ,CAACuE,OAAO,CAAC,UAACgC,KAAK,EAAK;QAC1BZ,KAAK,CAAC5F,EAAE,CAACyG,WAAW,CAACR,SAAS,CAACO,KAAK,CAAC,CAAC,CAAA;EACxC,KAAC,CAAC,CAAA;EACJ,GAAC,MAAM;EACL;MACAZ,KAAK,CAAC5F,EAAE,GAAGsG,QAAQ,CAACI,cAAc,CAAC7F,IAAI,CAAC,CAAA;EAC1C,GAAA;IACA,OAAO+E,KAAK,CAAC5F,EAAE,CAAA;EACjB;;ECzBA;EACO,SAAS2G,cAAc,CAAC9B,EAAE,EAAE7E,EAAE,EAAE;EACrC;EACA,EAAA,IAAI4G,eAAe,GAAG,SAAlBA,eAAe,GAAS;EAC1B;EACA/B,IAAAA,EAAE,CAACgC,OAAO,CAAChC,EAAE,CAACiC,OAAO,EAAE,CAAC,CAAA;KACzB,CAAA;EACD;EACA;EACA,EAAA,IAAIlC,OAAO,CACTC,EAAE,EACF+B,eAAe,EACf,YAAM;EACJG,IAAAA,OAAO,CAACC,GAAG,CAAC,OAAO,CAAC,CAAA;EACtB,GAAC,EACD,IAAI,CACL,CAAC;EACJ,CAAA;;EACO,SAASC,cAAc,CAACC,GAAG,EAAE;EAClCA,EAAAA,GAAG,CAACC,SAAS,CAACN,OAAO,GAAG,UAAUjB,KAAK,EAAE;MACvC,IAAMf,EAAE,GAAG,IAAI,CAAA;EACf;MACAA,EAAE,CAACuC,GAAG,GAAG1B,KAAK,CAACb,EAAE,CAACuC,GAAG,EAAExB,KAAK,CAAC,CAAA;KAC9B,CAAA;EACH;;EC1BA,IAAMyB,aAAa,GAAGC,KAAK,CAACH,SAAS,CAAA;EAC9B,IAAMI,YAAY,GAAGC,MAAM,CAACC,MAAM,CAACJ,aAAa,CAAC,CAAA;EACxD,IAAMK,OAAO,GAAG,CACd,MAAM,EACN,KAAK,EACL,OAAO,EACP,SAAS,EACT,QAAQ,EACR,MAAM,EACN,SAAS,CACV,CAAA;EACDA,OAAO,CAAClD,OAAO,CAAC,UAACmD,MAAM,EAAK;EAC1BJ,EAAAA,YAAY,CAACI,MAAM,CAAC,GAAG,YAAmB;EAAA,IAAA,IAAA,qBAAA,CAAA;EACxCZ,IAAAA,OAAO,CAACC,GAAG,CAAC,SAAS,CAAC,CAAA;EACtB,IAAA,IAAMY,EAAE,GAAG,IAAI,CAACC,MAAM,CAAA;EAAC,IAAA,KAAA,IAAA,IAAA,GAAA,SAAA,CAAA,MAAA,EAFWC,IAAI,GAAA,IAAA,KAAA,CAAA,IAAA,CAAA,EAAA,IAAA,GAAA,CAAA,EAAA,IAAA,GAAA,IAAA,EAAA,IAAA,EAAA,EAAA;QAAJA,IAAI,CAAA,IAAA,CAAA,GAAA,SAAA,CAAA,IAAA,CAAA,CAAA;EAAA,KAAA;EAGtC,IAAA,IAAMC,MAAM,GAAG,CAAAV,qBAAAA,GAAAA,aAAa,CAACM,MAAM,CAAC,EAACK,IAAI,CAAA,KAAA,CAAA,qBAAA,EAAA,CAAC,IAAI,CAAA,CAAA,MAAA,CAAKF,IAAI,CAAC,CAAA,CAAA;EACxD,IAAA,IAAIG,QAAQ,CAAA;EACZ,IAAA,QAAQN,MAAM;EACZ,MAAA,KAAK,MAAM,CAAA;EACX,MAAA,KAAK,SAAS;EACZM,QAAAA,QAAQ,GAAGH,IAAI,CAAA;EACf,QAAA,MAAA;EACF,MAAA,KAAK,QAAQ;EACXG,QAAAA,QAAQ,GAAGH,IAAI,CAACvG,KAAK,CAAC,CAAC,CAAC,CAAA;EACxB,QAAA,MAAA;EAAM,KAAA;EAEVwF,IAAAA,OAAO,CAACC,GAAG,CAACiB,QAAQ,EAAE,UAAU,CAAC,CAAA;EACjC,IAAA,IAAIA,QAAQ,EAAEL,EAAE,CAACM,YAAY,CAACD,QAAQ,CAAC,CAAA;EACvC,IAAA,OAAOF,MAAM,CAAA;KACd,CAAA;EACH,CAAC,CAAC;;EC7BsB,IAElBI,QAAQ,gBAAA,YAAA;EACZ,EAAA,SAAA,QAAA,CAAY9B,IAAI,EAAE;EAAA,IAAA,eAAA,CAAA,IAAA,EAAA,QAAA,CAAA,CAAA;EAChB;MACAA,IAAI,CAACwB,MAAM,GAAG,IAAI,CAAA;EAClB;EACA,IAAA,IAAIP,KAAK,CAACc,OAAO,CAAC/B,IAAI,CAAC,EAAE;QACvBA,IAAI,CAACgC,SAAS,GAAGd,YAAY,CAAA;EAC7B;EACA,MAAA,IAAI,CAACW,YAAY,CAAC7B,IAAI,CAAC,CAAA;EACzB,KAAC,MAAM;EACL;EACA,MAAA,IAAI,CAACiC,IAAI,CAACjC,IAAI,CAAC,CAAA;EACjB,KAAA;EACF,GAAA;EACA;EACF;EACA;EAFE,EAAA,YAAA,CAAA,QAAA,EAAA,CAAA;EAAA,IAAA,GAAA,EAAA,MAAA;MAAA,KAGA,EAAA,SAAA,IAAA,CAAKA,IAAI,EAAE;EACT,MAAA,IAAMkC,IAAI,GAAGf,MAAM,CAACe,IAAI,CAAClC,IAAI,CAAC,CAAA;EAC9B,MAAA,KAAK,IAAImC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGD,IAAI,CAACjI,MAAM,EAAEkI,CAAC,EAAE,EAAE;EACpCC,QAAAA,cAAc,CAACpC,IAAI,EAAEkC,IAAI,CAACC,CAAC,CAAC,EAAEnC,IAAI,CAACkC,IAAI,CAACC,CAAC,CAAC,CAAC,CAAC,CAAA;EAC9C,OAAA;EACF,KAAA;EACA;EACF;EACA;EAFE,GAAA,EAAA;EAAA,IAAA,GAAA,EAAA,cAAA;MAAA,KAGA,EAAA,SAAA,YAAA,CAAanC,IAAI,EAAE;EACjBA,MAAAA,IAAI,CAAC7B,OAAO,CAAC,UAACkE,IAAI,EAAK;UACrBC,OAAO,CAACD,IAAI,CAAC,CAAA;EACf,OAAC,CAAC,CAAA;EACJ,KAAA;EAAC,GAAA,CAAA,CAAA,CAAA;EAAA,EAAA,OAAA,QAAA,CAAA;EAAA,CAAA,EAAA,CAAA;EAEH,SAASD,cAAc,CAACG,GAAG,EAAEC,GAAG,EAAEhH,KAAK,EAAE;EACvC;IACA,IAAIgH,GAAG,IAAI,QAAQ,EAAE,OAAA;IACrBF,OAAO,CAAC9G,KAAK,CAAC,CAAA;EACd,EAAA,IAAIyD,GAAG,GAAG,IAAInB,GAAG,EAAE,CAAC;EACpBqD,EAAAA,MAAM,CAACsB,cAAc,CAACF,GAAG,EAAEC,GAAG,EAAE;EAC9BxD,IAAAA,GAAG,EAAG,SAAA,GAAA,GAAA;EACJ;QACA,IAAIlB,GAAG,CAACE,MAAM,EAAE;EACd;UACAiB,GAAG,CAACyD,MAAM,EAAE,CAAA;EACd,OAAA;QACAhC,OAAO,CAACC,GAAG,CAAC6B,GAAG,EAAE,KAAK,EAAEvD,GAAG,CAAC,CAAA;EAC5B,MAAA,OAAOzD,KAAK,CAAA;OACb;MACDmH,GAAG,EAAA,SAAA,GAAA,CAACC,MAAM,EAAE;EACV;QACA,IAAIA,MAAM,KAAKpH,KAAK,EAAE;UACpByD,GAAG,CAAC4D,MAAM,EAAE,CAAA;UACZP,OAAO,CAACM,MAAM,CAAC,CAAA;EACfpH,QAAAA,KAAK,GAAGoH,MAAM,CAAA;EAChB,OAAA;EACF,KAAA;EACF,GAAC,CAAC,CAAA;EACJ,CAAA;EACO,SAASN,OAAO,CAACtC,IAAI,EAAE;EAC5B;;EAEA,EAAA,IAAI,OAAOA,CAAAA,IAAI,CAAK,KAAA,QAAQ,EAAE,OAAA;IAC9B,IAAIA,IAAI,CAACwB,MAAM,EAAE,OAAA;EACjB,EAAA,OAAO,IAAIM,QAAQ,CAAC9B,IAAI,CAAC,CAAA;EAC3B;;EChEO,SAAS8C,SAAS,CAACtE,EAAE,EAAE;EAC5B,EAAA,IAAMuE,IAAI,GAAGvE,EAAE,CAACwE,QAAQ,CAAA;IACxB,IAAID,IAAI,CAAC/C,IAAI,EAAE;MACbiD,QAAQ,CAACzE,EAAE,CAAC,CAAA;EACd,GAAA;EACF,CAAA;EACA,SAASyE,QAAQ,CAACzE,EAAE,EAAE;EACpB,EAAA,IAAIwB,IAAI,GAAGxB,EAAE,CAACwE,QAAQ,CAAChD,IAAI,CAAA;EAC3B;EACAA,EAAAA,IAAI,GAAGxB,EAAE,CAAC0E,KAAK,GAAG,OAAOlD,IAAI,KAAK,UAAU,GAAGA,IAAI,CAAC2B,IAAI,CAACnD,EAAE,CAAC,GAAGwB,IAAI,CAAA;EACnE;EACA,EAAA,IAAMkC,IAAI,GAAGf,MAAM,CAACe,IAAI,CAAClC,IAAI,CAAC,CAAA;EAC9B,EAAA,IAAImC,CAAC,GAAGD,IAAI,CAACjI,MAAM,CAAA;IACnB,OAAOkI,CAAC,EAAE,EAAE;EACV,IAAA,IAAIK,GAAG,GAAGN,IAAI,CAACC,CAAC,CAAC,CAAA;EACjBgB,IAAAA,KAAK,CAAC3E,EAAE,EAAWgE,OAAAA,EAAAA,GAAG,CAAC,CAAA;EACzB,GAAA;IACAF,OAAO,CAACtC,IAAI,CAAC,CAAA;EACf,CAAA;EACA;EACO,SAASmD,KAAK,CAAC3E,EAAE,EAAE4E,SAAS,EAAEZ,GAAG,EAAE;EACxCrB,EAAAA,MAAM,CAACsB,cAAc,CAACjE,EAAE,EAAEgE,GAAG,EAAE;EAC7BxD,IAAAA,GAAG,EAAG,SAAA,GAAA,GAAA;EACJ,MAAA,OAAOR,EAAE,CAAC4E,SAAS,CAAC,CAACZ,GAAG,CAAC,CAAA;OAC1B;MACDG,GAAG,EAAA,SAAA,GAAA,CAACU,GAAG,EAAE;EACP7E,MAAAA,EAAE,CAAC4E,SAAS,CAAC,CAACZ,GAAG,CAAC,GAAGa,GAAG,CAAA;EAC1B,KAAA;EACF,GAAC,CAAC,CAAA;EACJ;;EC3BO,SAASC,SAAS,CAACzC,GAAG,EAAE;EAC7BA,EAAAA,GAAG,CAACC,SAAS,CAACyC,KAAK,GAAG,UAAU5E,OAAO,EAAE;MACvC,IAAMH,EAAE,GAAG,IAAI,CAAA;MACfA,EAAE,CAACwE,QAAQ,GAAGrE,OAAO,CAAA;MACrBmE,SAAS,CAACtE,EAAE,CAAC,CAAA;MACb,IAAIG,OAAO,CAAChF,EAAE,EAAE;EACd6E,MAAAA,EAAE,CAACgF,MAAM,CAAC7E,OAAO,CAAChF,EAAE,CAAC,CAAC;EACxB,KAAA;KACD,CAAA;;EACDkH,EAAAA,GAAG,CAACC,SAAS,CAAC0C,MAAM,GAAG,UAAU7J,EAAE,EAAE;MACnC,IAAM6E,EAAE,GAAG,IAAI,CAAA;EACf,IAAA,IAAMG,OAAO,GAAGH,EAAE,CAACwE,QAAQ,CAAA;EAC3BrJ,IAAAA,EAAE,GAAGsG,QAAQ,CAACwD,aAAa,CAAC9J,EAAE,CAAC,CAAA;MAC/B6E,EAAE,CAACuC,GAAG,GAAGpH,EAAE,CAAA;EACX;EACA;EACA,IAAA,IAAI,CAACgF,OAAO,CAAChB,MAAM,EAAE;EAAC;EACpB,MAAA,IAAID,QAAQ,GAAGiB,OAAO,CAACjB,QAAQ,CAAC;EAChC,MAAA,IAAI,CAACA,QAAQ,IAAI/D,EAAE,EAAE;UACnB+D,QAAQ,GAAG/D,EAAE,CAAC+J,SAAS,CAAA;EACzB,OAAA;EACA,MAAA,IAAGhG,QAAQ,EAAC;EACV,QAAA,IAAIC,MAAM,GAAGF,kBAAkB,CAACC,QAAQ,CAAC,CAAA;UACzCiB,OAAO,CAAChB,MAAM,GAAGA,MAAM,CAAA;EACzB,OAAA;EACA+C,MAAAA,OAAO,CAACC,GAAG,CAAC,kBAAkB,EAACjD,QAAQ,CAAC,CAAA;EAC1C,KAAA;EACA;EACA4C,IAAAA,cAAc,CAAC9B,EAAM,CAAC,CAAC;KACxB,CAAA;EACH;;EClCO,SAAS0B,aAAa,CAAC1B,EAAE,EAAEzE,GAAG,EAA0B;IAAA,IAAxBiG,IAAI,GAAG,SAAA,CAAA,MAAA,GAAA,CAAA,IAAA,SAAA,CAAA,CAAA,CAAA,KAAA,SAAA,GAAA,SAAA,CAAA,CAAA,CAAA,GAAA,EAAE,CAAA;EAAA,EAAA,KAAA,IAAA,IAAA,GAAA,SAAA,CAAA,MAAA,EAAKpG,QAAQ,GAAA,IAAA,KAAA,CAAA,IAAA,GAAA,CAAA,GAAA,IAAA,GAAA,CAAA,GAAA,CAAA,CAAA,EAAA,IAAA,GAAA,CAAA,EAAA,IAAA,GAAA,IAAA,EAAA,IAAA,EAAA,EAAA;MAARA,QAAQ,CAAA,IAAA,GAAA,CAAA,CAAA,GAAA,SAAA,CAAA,IAAA,CAAA,CAAA;EAAA,GAAA;EAC3D,EAAA,OAAO2F,KAAK,CAACf,EAAE,EAAEzE,GAAG,EAAEiG,IAAI,EAAEA,IAAI,CAACwC,GAAG,EAAE5I,QAAQ,EAAE+J,SAAS,CAAC,CAAA;EAC5D,CAAA;EACO,SAASC,iBAAiB,CAACpF,EAAE,EAAEhE,IAAI,EAAE;EAC1C,EAAA,OAAO+E,KAAK,CAACf,EAAE,EAAEmF,SAAS,EAAEA,SAAS,EAAEA,SAAS,EAAEA,SAAS,EAAEnJ,IAAI,CAAC,CAAA;EACpE,CAAA;EAEO,SAAS+E,KAAK,CAACf,EAAE,EAAEzE,GAAG,EAAEiG,IAAI,EAAEwC,GAAG,EAAE5I,QAAQ,EAAEY,IAAI,EAAE;EACxD;IACA,OAAO;EACLgE,IAAAA,EAAE,EAAFA,EAAE;EACFzE,IAAAA,GAAG,EAAHA,GAAG;EACHiG,IAAAA,IAAI,EAAJA,IAAI;EACJwC,IAAAA,GAAG,EAAHA,GAAG;EACH5I,IAAAA,QAAQ,EAARA,QAAQ;EACRY,IAAAA,IAAI,EAAJA,IAAAA;KACD,CAAA;EACH;;ECfO,SAASqJ,WAAW,CAAChD,GAAG,EAAE;EAC/BA,EAAAA,GAAG,CAACC,SAAS,CAACL,OAAO,GAAG,YAAY;MAClC,IAAMjC,EAAE,GAAG,IAAI,CAAA;EACf,IAAA,IAAMb,MAAM,GAAKa,EAAE,CAACwE,QAAQ,CAAtBrF,MAAM,CAAA;EACZ,IAAA,IAAI4B,KAAK,GAAG5B,MAAM,CAACgE,IAAI,CAACnD,EAAE,CAAC,CAAA;EAC3B,IAAA,OAAOe,KAAK,CAAA;KACb,CAAA;EACDsB,EAAAA,GAAG,CAACC,SAAS,CAACgD,EAAE,GAAG,YAAY;EAC7B;EACA,IAAA,OAAO5D,aAAa,CAAA,KAAA,CAAA,KAAA,CAAA,EAAA,CAAC,IAAI,CAAA,CAAA,MAAA,CAAA,KAAA,CAAA,SAAA,CAAA,KAAA,CAAA,IAAA,CAAKxE,SAAS,CAAC,CAAA,CAAA,CAAA;KACzC,CAAA;EACDmF,EAAAA,GAAG,CAACC,SAAS,CAACiD,EAAE,GAAG,UAAUvJ,IAAI,EAAE;EACjC;EACA,IAAA,OAAOoJ,iBAAiB,CAAA,KAAA,CAAA,KAAA,CAAA,EAAA,CAAC,IAAI,CAAA,CAAA,MAAA,CAAA,KAAA,CAAA,SAAA,CAAA,KAAA,CAAA,IAAA,CAAKlI,SAAS,CAAC,CAAA,CAAA,CAAA;KAC7C,CAAA;EACDmF,EAAAA,GAAG,CAACC,SAAS,CAACkD,EAAE,GAAG,UAAUX,GAAG,EAAE;MAChC,IAAI,OAAA,CAAOA,GAAG,CAAA,IAAI,QAAQ,EAAE,OAAOrI,IAAI,CAACC,SAAS,CAACoI,GAAG,CAAC,CAAA;EACtD,IAAA,OAAOA,GAAG,CAAA;KACX,CAAA;EACH;;EClBA,SAASxC,GAAG,CAAClC,OAAO,EAAE;EACpB,EAAA,IAAI,CAAC4E,KAAK,CAAC5E,OAAO,CAAC,CAAA;EACrB,CAAA;EAEA2E,SAAS,CAACzC,GAAG,CAAC,CAAA;EACdD,cAAc,CAACC,GAAG,CAAC,CAAC;EACpBgD,WAAW,CAAChD,GAAG,CAAC,CAAC;;;;;;;;"}